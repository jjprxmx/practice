<html>
    <hrad>
        <title>fetch ep.1 (input+display picture,data)</title>
    </hrad>
    <body>
    <p>Data</p>
     <input id="data"  placeholder="enter name">
     <br>
     <p>url</p>
     <input  id="pic"  placeholder="input url">
    <br>
     <button onclick="push()">submit</button>
     <button onclick="deleteData()">del</button>


     <div id="showdata">xxx</div>
     <div id="showpic"><a href="https://www.dcnewsnow.com/news/us-and-world/cats-classified-as-invasive-alien-species-by-scientific-institute/"></a></div>
    
      <script>
        var AllData =  []

        function push(){
            let data=document.getElementById(`data`).value
            let pic=document.getElementById(`pic`).value
        

      fetch(`https://crudcrud.com/api/b1278d79e29f4237af3d37715753fc50/test`,
      
      {   method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({
          name: {"objData":data,"objPic":pic}
      })
    }).then(showData())
  }

    function showData(){
      fetch(`https://crudcrud.com/api/b1278d79e29f4237af3d37715753fc50/test`,
      {
        method:"GET",
        headers: {"Content-Type":"application/json"}
      })
      .then(res => res.json())
      .then(data => AllData=data)
      .then(print())
    }

    function print(){
      for(let i=0;i<AllData.length;i++){
      document.getElementById(`showdata`).innerHTML=`<p>Data: ${AllData[i].name.objData}</p>`
      document.getElementById(`showpic`).innerHTML=`<a href="${AllData[i].name.objPic}"></a>`
    
      }
    }

    function deleteData(){
      for(let i=0;i<AllData.length;i++){
      fetch(`https://crudcrud.com/api/b1278d79e29f4237af3d37715753fc50/test/${AllData[i]._id}`,
      {
        method:"DELETE"
      })
    }
    }
</script>
    </body>

</html>